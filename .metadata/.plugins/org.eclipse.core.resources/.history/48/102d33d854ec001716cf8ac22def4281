package com.locdata.theatres.scraper;

import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

import com.locdata.scraper.main.ScraperLogic;

public class Theatres_CineplexOdeon_LocData {

	public static void main(String args[]){
		
		Document doc = ScraperLogic.Scraper.fetchHtmlContents("https://en.wikipedia.org/wiki/List_of_Cineplex_Entertainment_movie_theatres");

		if(doc == null){
			System.out.println(" The link is broken ");
		    throw new IllegalArgumentException("Document !!! urls is null ::: Program Exited " + Theatres_CineplexEntertainment_LocData.class.getSimpleName());
		}
		
		Element content = doc.getElementById("mw-content-text");
		
		Elements s = content.getElementsByTag("table");
		
		s.forEach((a) -> {
			
			Elements t = a.getElementsByTag("tbody");
			
			t.parallelStream().forEach((theatrelist) -> {
				Elements k = theatrelist.getElementsByTag("tr");
				
				for(Element q : k){
					if(!q.getElementsByTag("td").text().contains("[edit]")){
						
						if(q.select("td").size() > 0){
							
							String filterOdeon = q.select("td").first().text();
							loc_data.add(q.select("td").first().text());
						}
					}
				}
			});
		});
		
	}
	
}
